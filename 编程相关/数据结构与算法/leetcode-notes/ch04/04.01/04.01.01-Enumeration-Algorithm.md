# 04.01.01 枚举算法（第 01 ~ 02 天）

## 1. 枚举算法简介

> **枚举算法（Enumeration Algorithm）**：也称为穷举算法，指的是按照问题本身的性质，一一列举出该问题所有可能的解，并在逐一列举的过程中，将它们逐一与目标状态进行比较以得出满足问题要求的解。在列举的过程中，既不能遗漏也不能重复。

枚举算法的核心思想是：通过列举问题的所有状态，将它们逐一与目标状态进行比较，从而得到满足条件的解。

由于枚举算法要通过列举问题的所有状态来得到满足条件的解，因此，在问题规模变大时，其效率一般是比较低的。但是枚举算法也有自己特有的优点：

1. 多数情况下容易编程实现，也容易调试。
2. 建立在考察大量状态、甚至是穷举所有状态的基础上，所以算法的正确性比较容易证明。

所以，枚举算法通常用于求解问题规模比较小的问题，或者作为求解问题的一个子算法出现，通过枚举一些信息并进行保存，而这些消息的有无对主算法效率的高低有着较大影响。

## 2. 枚举算法的解题思路

枚举算法是设计最简单、最基本的搜索算法。是我们在遇到问题时，最应该优先考虑的算法。

因为其实现足够简单，所以在遇到问题时，我们往往可以先通过枚举算法尝试解决问题，然后在此基础上，再去考虑其他优化方法和解题思路。

采用枚举算法解题的一般思路如下：

1. 确定枚举对象、枚举范围和判断条件，并判断条件设立的正确性。
2. 一一枚举可能的情况，并验证是否是问题的解。
3. 考虑提高枚举算法的效率。

我们可以从下面几个方面考虑提高算法的效率：

1. 抓住问题状态的本质，尽可能缩小问题状态空间的大小。
2. 加强约束条件，缩小枚举范围。
3. 根据某些问题特有的性质，例如对称性等，避免对本质相同的状态重复求解。

## 3. 枚举算法的简单应用

下面举个著名的例子：「百钱买百鸡问题」。这个问题是我国古代数学家张丘在「算经」一书中提出的。该问题叙述如下：

> **百钱买百鸡问题**：鸡翁一，值钱五；鸡母一，值钱三；鸡雏三，值钱一；百钱买百鸡，则鸡翁、鸡母、鸡雏各几何？

翻译一下，意思就是：公鸡一只五块钱，母鸡一只三块钱，小鸡三只一块钱。现在我们用 $100$ 块钱买了 $100$ 只鸡，问公鸡、母鸡、小鸡各买了多少只？

下面我们根据算法的一般思路来解决一下这道题。

1. 确定枚举对象、枚举范围和判断条件，并判断条件设立的正确性。

   1. 确定枚举对象：枚举对象为公鸡、母鸡、小鸡的只数，那么我们可以用变量 $x$、$y$、$z$ 分别来代表公鸡、母鸡、小鸡的只数。
   2. 确定枚举范围：因为总共买了 $100$ 只鸡，所以 $0 \le x, y, z \le 100$，则 $x$、$y$、$z$ 的枚举范围为 $[0, 100]$。
   3. 确定判断条件：根据题意，我们可以列出两个方程式：$5 \times x + 3 \times y + \frac{z}{3} = 100$，$x + y + z = 100$。在枚举 $x$、$y$、$z$ 的过程中，我们可以根据这两个方程式来判断是否当前状态是否满足题意。

2. 一一枚举可能的情况，并验证是否是问题的解。

   1. 根据枚举对象、枚举范围和判断条件，我们可以顺利写出对应的代码。

      ```python
      class Solution:
          def buyChicken(self):
              for x in range(101):
                  for y in range(101):
                      for z in range(101):
                          if z % 3 == 0 and 5 * x + 3 * y + z // 3 == 100 and x + y + z == 100:
                              print("公鸡 %s 只，母鸡 %s 只，小鸡 %s 只" % (x, y, z))
      ```

3. 考虑提高枚举算法的效率。

   1. 在上面的代码中，我们枚举了 $x$、$y$、$z$，但其实根据方程式 $x + y + z = 100$，得知：$z$ 可以通过 $z = 100 - x - y$ 而得到，这样我们就不用再枚举 $z$ 了。
   2. 在上面的代码中，对 $x$、$y$ 的枚举范围是 $[0, 100]$，但其实如果所有钱用来买公鸡，最多只能买 $20$ 只，同理，全用来买母鸡，最多只能买 $33$ 只。所以对 $x$ 的枚举范围可改为 $[0, 20]$，$y$ 的枚举范围可改为 $[0, 33]$。

   ```python
   class Solution:
       def buyChicken(self):
           for x in range(21):
               for y in range(34):
                   z = 100 - x - y
                   if z % 3 == 0 and 5 * x + 3 * y + z // 3 == 100:
                       print("公鸡 %s 只，母鸡 %s 只，小鸡 %s 只" % (x, y, z))
   ```
